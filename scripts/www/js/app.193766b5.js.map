{"version":3,"file":"js/app.193766b5.js","mappings":"kEAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,QAAQ,CAACF,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,MAAM,CAACG,YAAY,iBAAiB,CAACH,EAAG,KAAK,CAACG,YAAY,aAAa,CAACL,EAAIM,GAAG,YAAYJ,EAAG,MAAM,CAACG,YAAY,YAAY,CAACH,EAAG,cAAc,CAACG,YAAY,WAAWD,MAAM,CAAC,GAAK,gBAAgB,CAACJ,EAAIM,GAAG,UAAUJ,EAAG,cAAc,CAACG,YAAY,WAAWD,MAAM,CAAC,GAAK,aAAa,CAACJ,EAAIM,GAAG,WAAW,OAAOJ,EAAG,OAAO,CAACG,YAAY,gBAAgB,CAACH,EAAG,gBAAgB,IAClf,EACIK,EAAkB,G,uDCAtB,MAAMC,EAAU,wBAEVC,EAAQC,IAAAA,eAA2B,CACvCC,KAAMH,IAGKI,EAAa,CACxBC,aAAc,eACdC,gBAAiB,mBAINC,EAAmBC,UAC9B,UACQP,EAAMQ,QAAQL,EAAWC,aAAcK,EAC/C,CAAE,MAAOC,GACPC,QAAQC,MAAM,8BAA+BF,EAC/C,GAGWG,EAAuBN,UAClC,IACE,aAAaP,EAAMc,QAAQX,EAAWC,aACxC,CAAE,MAAOM,GAEP,OADAC,QAAQC,MAAM,qCAAsCF,GAC7C,IACT,GAIWK,EAAoBR,UAC/B,IACE,MAAMS,QAAiBhB,EAAMc,QAAQX,EAAWE,kBAAqB,GACrEW,EAAQC,KAAK,IACRC,EACHC,WAAYC,KAAKC,MAAMC,mBAEnBtB,EAAMQ,QAAQL,EAAWE,gBAAiBW,EAClD,CAAE,MAAON,GACPC,QAAQC,MAAM,+BAAgCF,EAChD,GAGWa,EAAoBhB,UAC/B,IACE,aAAcP,EAAMc,QAAQX,EAAWE,kBAAqB,EAC9D,CAAE,MAAOK,GAEP,OADAC,QAAQC,MAAM,iCAAkCF,GACzC,EACT,GAGWc,EAAsBjB,UACjC,IACE,MAAMS,QAAiBhB,EAAMc,QAAQX,EAAWE,kBAAqB,GAC/DoB,EAAaT,EAAQU,OAAOC,GAAKA,EAAER,aAAeS,SAClD5B,EAAMQ,QAAQL,EAAWE,gBAAiBoB,EAClD,CAAE,MAAOf,GACPC,QAAQC,MAAM,iCAAkCF,EAClD,GAGWmB,EAAsBtB,UAC/B,UACUP,EAAM8B,WAAW3B,EAAWE,gBACtC,CAAE,MAAOK,GACLC,QAAQC,MAAM,iCAAkCF,EACpD,G,sBCjEJ,MAAMqB,EAAUC,EAAAA,EAAMC,OAAO,CAC3BC,QAAS,gBACTC,QAAS,MAGLC,EAAU,uBACVC,EAAa,mEAENC,EAAiB/B,UAC5B,IACE,MAAMgC,QAAiBR,EAAQS,KAAK,2BAA4B,CAC9DC,OAAQL,EACRM,UAAWL,IAEb,OAAOE,EAASI,IAClB,CAAE,MAAO/B,GAEP,MADAD,QAAQC,MAAM,8BAA+BA,GACvCA,CACR,GAGWgC,EAAiBrC,UAC5B,IACE,MAAMsC,EAAM,4HACNN,QAAiBR,EAAQS,KAAKK,EAAK,CACvCC,WAAY,IACZC,UAAW,IACV,CACDC,QAAS,CACP,8BAA+BC,KAGnC,OAAOV,EAASI,IAClB,CAAE,MAAO/B,GAEP,MADAD,QAAQC,MAAM,8BAA+BA,GACvCA,CACR,GAIWsC,EAAqBC,GACzBA,GAAYA,EAAQnC,QAClBmC,EAAQnC,QAAQoC,IAAIlC,IAAU,CACjCmC,GAAInC,EAAOmC,GACXnD,KAAMgB,EAAOoC,OAAO,WAHiB,GAOhCC,EAAehD,SAEnB,IAAIiD,QAAQ,CAACC,EAASC,KAC3BC,WAAW,KACThD,QAAQiD,IAAI,oBAAqBjB,GAEjCc,EAAQ,CAAEI,SAAS,KAClB,OCrCP,OACA3D,KAAA,MACA4D,OAAAA,GACAC,OAAAC,iBAAA,cAAAC,cACAF,OAAAC,iBAAA,eAAAE,oBACA,KAAAA,oBACA,EACAC,aAAAA,GACAJ,OAAAK,oBAAA,cAAAH,cACAF,OAAAK,oBAAA,eAAAF,mBACA,EACAG,QAAA,KACAC,EAAAA,EAAAA,IAAA,wBAEAL,YAAAA,GACA,KAAAC,qBACA,KAAAK,8BACA,EAEAL,kBAAAA,GACA,KAAAM,OAAAC,SAAA,qBAAAC,UAAAC,OACA,EAEA,kCAAAJ,GACA,MAAAvD,QAAAO,IACA,GAAAP,EAAA4D,OAAA,GACA,KAAAC,QAAAC,KAAA,CACAC,MAAA,QACAC,QAAA,MAAAhE,EAAA4D,2BAGA,IAAAK,EAAA,EACA,UAAA/D,KAAAF,EACA,UACAuC,EAAArC,SACAM,EAAAN,EAAAC,YACA8D,GACA,OAAAC,GACAvE,QAAAC,MAAA,iCAAAM,EAAAgE,EACA,CAGAD,EAAA,GACA,KAAAJ,QAAAhB,QAAA,CACAkB,MAAA,SACAC,QAAA,QAAAC,SAOA,CACA,IC3EyO,I,UCQrOE,GAAY,OACd,EACA7F,EACAQ,GACA,EACA,KACA,KACA,MAIF,EAAeqF,E,mBCdbC,EAAAA,EAAAA,GAAS,qBAA4C,CACnDC,KAAAA,GACE1E,QAAQiD,IACN,qGAGJ,EACA0B,UAAAA,GACE3E,QAAQiD,IAAI,sCACd,EACA2B,MAAAA,GACE5E,QAAQiD,IAAI,2CACd,EACA4B,WAAAA,GACE7E,QAAQiD,IAAI,8BACd,EACA6B,OAAAA,GACE9E,QAAQiD,IAAI,4CACd,EACA8B,OAAAA,GACE/E,QAAQiD,IAAI,gEACd,EACAhD,KAAAA,CAAOA,GACLD,QAAQC,MAAM,4CAA6CA,EAC7D,I,aC7BAtB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,wBAAwB,CAACH,EAAG,KAAK,CAACF,EAAIM,GAAG,UAAUJ,EAAG,MAAM,CAACG,YAAY,cAAc,CAACL,EAAIM,GAAG,WAAWJ,EAAG,SAAS,CAACE,MAAM,CAAC,KAAOJ,EAAIoG,SAAW,UAAY,WAAW,CAACpG,EAAIM,GAAGN,EAAIqG,GAAGrG,EAAIoG,SAAW,KAAO,UAAU,GAAGlG,EAAG,UAAU,CAACoG,IAAI,OAAOjG,YAAY,kBAAkBD,MAAM,CAAC,MAAQJ,EAAIuG,KAAK,cAAc,UAAU,CAACrG,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,WAAWoG,MAAM,CAACC,MAAOzG,EAAIuG,KAAKG,YAAaC,SAAS,SAAUC,GAAM5G,EAAI6G,KAAK7G,EAAIuG,KAAM,cAAeK,EAAI,EAAEE,WAAW,uBAAuB,GAAG5G,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,YAAc,WAAWoG,MAAM,CAACC,MAAOzG,EAAIuG,KAAKQ,MAAOJ,SAAS,SAAUC,GAAM5G,EAAI6G,KAAK7G,EAAIuG,KAAM,QAASK,EAAI,EAAEE,WAAW,iBAAiB,GAAG5G,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,WAAW,CAACF,EAAG,YAAY,CAAC8G,YAAY,CAAC,MAAQ,QAAQ5G,MAAM,CAAC,YAAc,SAASoG,MAAM,CAACC,MAAOzG,EAAIuG,KAAKU,UAAWN,SAAS,SAAUC,GAAM5G,EAAI6G,KAAK7G,EAAIuG,KAAM,YAAaK,EAAI,EAAEE,WAAW,mBAAmB9G,EAAIkH,GAAIlH,EAAImH,YAAa,SAASC,GAAM,OAAOlH,EAAG,YAAY,CAACmH,IAAID,EAAKtD,GAAG1D,MAAM,CAAC,MAAQgH,EAAKzG,KAAK,MAAQyG,EAAKtD,KAAK,GAAG,IAAI,GAAG5D,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,QAAQ,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,KAAO,WAAW,YAAc,UAAUoG,MAAM,CAACC,MAAOzG,EAAIuG,KAAKe,MAAOX,SAAS,SAAUC,GAAM5G,EAAI6G,KAAK7G,EAAIuG,KAAM,QAASK,EAAI,EAAEE,WAAW,iBAAiB,GAAG5G,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,SAAS,CAACF,EAAG,YAAY,CAAC8G,YAAY,CAAC,MAAQ,QAAQ5G,MAAM,CAAC,YAAc,SAASoG,MAAM,CAACC,MAAOzG,EAAIuG,KAAKgB,OAAQZ,SAAS,SAAUC,GAAM5G,EAAI6G,KAAK7G,EAAIuG,KAAM,SAAUK,EAAI,EAAEE,WAAW,gBAAgB,CAAC5G,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,SAASF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,SAASF,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,UAAU,IAAI,GAAGF,EAAG,eAAe,CAACA,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,WAAWoH,GAAG,CAAC,MAAQxH,EAAIyH,WAAW,CAACzH,EAAIM,GAAG,QAAQJ,EAAG,YAAY,CAACsH,GAAG,CAAC,MAAQxH,EAAI0H,YAAY,CAAC1H,EAAIM,GAAG,SAAS,IAAI,IAAI,EACr/D,EACIC,EAAkB,GCkDtB,G,OAAA,CACAI,KAAA,aACAyC,IAAAA,GACA,OACAmD,KAAA,CACAG,YAAA,GACAK,MAAA,GACAE,UAAA,GACAK,MAAA,GACAC,OAAA,OAGA,EACAI,SAAA,KACAC,EAAAA,EAAAA,IAAA,6BAEArD,OAAAA,GACA,KAAAsD,kBACA,EACA/C,QAAA,KACAC,EAAAA,EAAAA,IAAA,sBAEA,cAAA0C,GACA,SAAAlB,KAAAG,YAEA,YADA,KAAAoB,SAAAC,QAAA,WAIA,MAAAC,EAAA,IACA,KAAAzB,KACA0B,YAAA,KAAAC,eAAA,KAAA3B,KAAAU,WACAkB,WAAA,IAAAtG,MAAAuG,eAGA,QAAAhC,SAEA,UACApC,EAAAgE,GACA,KAAAF,SAAAxD,QAAA,eACA,KAAAoD,WACA,OAAArG,GACA,KAAAyG,SAAAzG,MAAA,uBACA,KAAAgH,YAAAL,EACA,YAGA,KAAAK,YAAAL,EAEA,EAEA,iBAAAK,CAAAjF,SACA5B,EAAA4B,GACA,KAAA0E,SAAAC,QAAA,qBACA,KAAAL,WACA,EAEAQ,cAAAA,CAAApE,GACA,MAAAwE,EAAA,KAAAnB,YAAAoB,KAAAC,GAAAA,EAAA1E,KAAAA,GACA,OAAAwE,EAAAA,EAAA3H,KAAA,EACA,EAEA+G,SAAAA,GACA,KAAAnB,KAAA,CACAG,YAAA,GACAK,MAAA,GACAE,UAAA,GACAK,MAAA,GACAC,OAAA,MAEA,KCzHyP,ICQrP,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,E,QCnBXxH,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACG,YAAY,qBAAqB,CAACH,EAAG,KAAK,CAACF,EAAIM,GAAG,aAAaJ,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,UAAU,UAAYJ,EAAIoG,UAAmC,IAAvBpG,EAAIyB,QAAQ4D,QAAcmC,GAAG,CAAC,MAAQxH,EAAIyI,YAAY,CAACzI,EAAIM,GAAG,IAAIN,EAAIqG,GAAGrG,EAAIoG,SAAW,SAAW,YAAY,OAAOlG,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,SAAS,SAAkC,IAAvBJ,EAAIyB,QAAQ4D,QAAcmC,GAAG,CAAC,MAAQxH,EAAI0I,WAAW,CAAC1I,EAAIM,GAAG,YAAYJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,kBAAkB,OAAS,IAAIoH,GAAG,CAAC,MAAQxH,EAAI2I,gBAAgB,GAAGzI,EAAG,WAAW,CAAC8G,YAAY,CAAC,MAAQ,OAAO,aAAa,QAAQ5G,MAAM,CAAC,KAAOJ,EAAIyB,QAAQ,OAAS,KAAK,CAACvB,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,cAAc,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,QAAQ,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,cAAc,MAAQ,UAAUF,EAAG,kBAAkB,CAACE,MAAM,CAAC,KAAO,SAAS,MAAQ,QAAQF,EAAG,kBAAkB,CAACE,MAAM,CAAC,MAAQ,KAAK,MAAQ,OAAOwI,YAAY5I,EAAI6I,GAAG,CAAC,CAACxB,IAAI,UAAUyB,GAAG,SAASC,GAAO,MAAO,CAAC7I,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,UAAU,UAAYJ,EAAIoG,UAAUoB,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOhJ,EAAIiJ,WAAWF,EAAMG,IAAI,IAAI,CAAClJ,EAAIM,GAAG,QAAQJ,EAAG,YAAY,CAACE,MAAM,CAAC,KAAO,OAAO,KAAO,UAAUoH,GAAG,CAAC,MAAQ,SAASwB,GAAQ,OAAOhJ,EAAImJ,WAAWJ,EAAMG,IAAI,IAAI,CAAClJ,EAAIM,GAAG,QAAQ,QAAQ,IAAI,EAC11C,EACIC,EAAkB,GC6BtB,GACAI,KAAA,cACAyC,IAAAA,GACA,OACA3B,QAAA,GAEA,EACAkG,SAAA,KACAC,EAAAA,EAAAA,IAAA,eAEArD,OAAAA,GACA,KAAAoE,aACA,EACA7D,QAAA,CACA,iBAAA6D,GACA,KAAAlH,cAAAO,GACA,EACA,eAAAyG,GACA,SAAArC,SAAA,OAEA,MAAAgD,EAAA,KAAA3H,QAAA4D,OACA,IAAAK,EAAA,EAGA,UAAA/D,KAAA,KAAAF,QACA,UACA,KAAA4H,WAAA1H,SACAM,EAAAN,EAAAC,YACA8D,GACA,OAAAC,GACAvE,QAAAC,MAAAsE,EACA,CAGA,KAAAmC,SAAAxD,QAAA,QAAAoB,KAAA0D,SACA,KAAAT,aACA,EACA,gBAAAM,CAAAtH,GACA,QAAAyE,SACA,UACApC,EAAArC,SACAM,EAAAN,EAAAC,YACA,KAAAkG,SAAAxD,QAAA,QACA,KAAAqE,aACA,OAAAtH,GACA,KAAAyG,SAAAzG,MAAA,OACA,CACA,EACA,gBAAA8H,CAAAxH,GACA,UACAM,EAAAN,EAAAC,YACA,KAAAkG,SAAAxD,QAAA,QACA,KAAAqE,aACA,OAAAtH,GACA,KAAAyG,SAAAzG,MAAA,OACA,CACA,EACA,cAAAqH,GACA,UACA,KAAAY,SAAA,6BACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,kBAEAnH,IACA,KAAAwF,SAAAxD,QAAA,OACA,KAAAqE,aACA,OAAAtH,GACA,WAAAA,EACA,KAAAyG,SAAAzG,MAAA,QAEA,KAAAyG,SAAAvC,KAAA,QAEA,CACA,ICzG0P,ICQtP,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIF,EAAe,E,QCdfmE,EAAAA,WAAIC,IAAIC,EAAAA,IAER,MAAMC,EAAS,CACb,CACEC,KAAM,IACNC,SAAU,eAEZ,CACED,KAAM,cACNnJ,KAAM,aACNiF,UAAWoE,GAEb,CACEF,KAAM,WACNnJ,KAAM,cACNiF,UAAWqE,IAITC,EAAS,IAAIN,EAAAA,GAAU,CAC3BO,KAAM,UACNC,KAAM9B,IACNuB,WAGF,QCzBAH,EAAAA,WAAIC,IAAIU,EAAAA,IAER,UAAmBA,EAAAA,GAAAA,MAAW,CAC5BC,MAAO,CACLlE,SAAUjB,UAAUC,OACpB+B,YAAa,IAEfoD,QAAS,CACPnE,SAAUkE,GAASA,EAAMlE,SACzBe,YAAamD,GAASA,EAAMnD,aAE9BqD,UAAW,CACTC,iBAAAA,CAAkBH,EAAO/C,GACvB+C,EAAMlE,SAAWmB,CACnB,EACAmD,gBAAAA,CAAiBJ,EAAOpJ,GACtBoJ,EAAMnD,YAAcjG,CACtB,GAEFyJ,QAAS,CACPhG,kBAAAA,EAAmB,OAAEiG,GAAUrD,GAC7BqD,EAAO,oBAAqBrD,EAC9B,EACA,sBAAMM,EAAiB,OAAE+C,EAAM,MAAEN,IAC/B,GAAIA,EAAMlE,SACR,IACE,MAAMyE,QAAkB9H,IAClBW,EAAcmH,EAAUnH,YAExBN,QAAaC,EAAeK,GAC5BoH,EAAgBnH,EAAkBP,GAIxC,OAFAwH,EAAO,mBAAoBE,SACrB/J,EAAiB+J,GAChBA,CACT,CAAE,MAAOzJ,GACPD,QAAQC,MAAM,oDAAqDA,GAEnE,MAAM2E,QAAe1E,IACrB,GAAI0E,EAEF,OADA4E,EAAO,mBAAoB5E,GACpBA,CAEX,KACK,CAEL,MAAMA,QAAe1E,IACrB,GAAI0E,EAEF,OADA4E,EAAO,mBAAoB5E,GACpBA,CAEX,CACA,MAAO,EACT,GAEF+E,QAAS,CACT,I,mBCrDFrB,EAAAA,WAAIC,IAAIqB,KAERtB,EAAAA,WAAIuB,OAAOC,eAAgB,EAE3B,IAAIxB,EAAAA,WAAI,CACNQ,OAAM,EACNzJ,MAAK,EACLV,OAAQoL,GAAKA,EAAEC,KACdC,OAAO,O,GCfNC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASN,EAAyBE,GAAY,CACjD1H,GAAI0H,EACJK,QAAQ,EACRF,QAAS,CAAC,GAUX,OANAG,EAAoBN,GAAUO,KAAKH,EAAOD,QAASC,EAAQA,EAAOD,QAASJ,GAG3EK,EAAOC,QAAS,EAGTD,EAAOD,OACf,CAGAJ,EAAoBS,EAAIF,E,WC5BxBP,EAAoBU,KAAO,CAAC,C,eCA5B,IAAIC,EAAW,GACfX,EAAoBY,EAAI,SAASC,EAAQC,EAAUvD,EAAIwD,GACtD,IAAGD,EAAH,CAMA,IAAIE,EAAeC,IACnB,IAASC,EAAI,EAAGA,EAAIP,EAAS7G,OAAQoH,IAAK,CACrCJ,EAAWH,EAASO,GAAG,GACvB3D,EAAKoD,EAASO,GAAG,GACjBH,EAAWJ,EAASO,GAAG,GAE3B,IAJA,IAGIC,GAAY,EACPC,EAAI,EAAGA,EAAIN,EAAShH,OAAQsH,MACpB,EAAXL,GAAsBC,GAAgBD,IAAaM,OAAOC,KAAKtB,EAAoBY,GAAGW,MAAM,SAASzF,GAAO,OAAOkE,EAAoBY,EAAE9E,GAAKgF,EAASM,GAAK,GAChKN,EAASU,OAAOJ,IAAK,IAErBD,GAAY,EACTJ,EAAWC,IAAcA,EAAeD,IAG7C,GAAGI,EAAW,CACbR,EAASa,OAAON,IAAK,GACrB,IAAIrK,EAAI0G,SACE4C,IAANtJ,IAAiBgK,EAAShK,EAC/B,CACD,CACA,OAAOgK,CArBP,CAJCE,EAAWA,GAAY,EACvB,IAAI,IAAIG,EAAIP,EAAS7G,OAAQoH,EAAI,GAAKP,EAASO,EAAI,GAAG,GAAKH,EAAUG,IAAKP,EAASO,GAAKP,EAASO,EAAI,GACrGP,EAASO,GAAK,CAACJ,EAAUvD,EAAIwD,EAwB/B,C,eC5BAf,EAAoByB,EAAI,SAASpB,GAChC,IAAIqB,EAASrB,GAAUA,EAAOsB,WAC7B,WAAa,OAAOtB,EAAO,UAAY,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAL,EAAoB4B,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,C,eCNA1B,EAAoB4B,EAAI,SAASxB,EAAS0B,GACzC,IAAI,IAAIhG,KAAOgG,EACX9B,EAAoB+B,EAAED,EAAYhG,KAASkE,EAAoB+B,EAAE3B,EAAStE,IAC5EuF,OAAOW,eAAe5B,EAAStE,EAAK,CAAEmG,YAAY,EAAMC,IAAKJ,EAAWhG,IAG3E,C,eCPAkE,EAAoBmC,EAAI,WACvB,GAA0B,kBAAfC,WAAyB,OAAOA,WAC3C,IACC,OAAO1N,MAAQ,IAAI2N,SAAS,cAAb,EAChB,CAAE,MAAOjI,GACR,GAAsB,kBAAXnB,OAAqB,OAAOA,MACxC,CACA,CAPuB,E,eCAxB+G,EAAoB+B,EAAI,SAASO,EAAKC,GAAQ,OAAOlB,OAAOmB,UAAUC,eAAejC,KAAK8B,EAAKC,EAAO,C,eCCtGvC,EAAoBnJ,EAAI,SAASuJ,GACX,qBAAXsC,QAA0BA,OAAOC,aAC1CtB,OAAOW,eAAe5B,EAASsC,OAAOC,YAAa,CAAEzH,MAAO,WAE7DmG,OAAOW,eAAe5B,EAAS,aAAc,CAAElF,OAAO,GACvD,C,eCNA8E,EAAoB4C,IAAM,SAASvC,GAGlC,OAFAA,EAAOwC,MAAQ,GACVxC,EAAOyC,WAAUzC,EAAOyC,SAAW,IACjCzC,CACR,C,eCCA,IAAI0C,EAAkB,CACrB,IAAK,GAaN/C,EAAoBY,EAAEQ,EAAI,SAAS4B,GAAW,OAAoC,IAA7BD,EAAgBC,EAAgB,EAGrF,IAAIC,EAAuB,SAASC,EAA4BrL,GAC/D,IAKIoI,EAAU+C,EALVlC,EAAWjJ,EAAK,GAChBsL,EAActL,EAAK,GACnBuL,EAAUvL,EAAK,GAGIqJ,EAAI,EAC3B,GAAGJ,EAASuC,KAAK,SAAS9K,GAAM,OAA+B,IAAxBwK,EAAgBxK,EAAW,GAAI,CACrE,IAAI0H,KAAYkD,EACZnD,EAAoB+B,EAAEoB,EAAalD,KACrCD,EAAoBS,EAAER,GAAYkD,EAAYlD,IAGhD,GAAGmD,EAAS,IAAIvC,EAASuC,EAAQpD,EAClC,CAEA,IADGkD,GAA4BA,EAA2BrL,GACrDqJ,EAAIJ,EAAShH,OAAQoH,IACzB8B,EAAUlC,EAASI,GAChBlB,EAAoB+B,EAAEgB,EAAiBC,IAAYD,EAAgBC,IACrED,EAAgBC,GAAS,KAE1BD,EAAgBC,GAAW,EAE5B,OAAOhD,EAAoBY,EAAEC,EAC9B,EAEIyC,EAAqBC,KAAK,iCAAmCA,KAAK,kCAAoC,GAC1GD,EAAmBE,QAAQP,EAAqBQ,KAAK,KAAM,IAC3DH,EAAmBnN,KAAO8M,EAAqBQ,KAAK,KAAMH,EAAmBnN,KAAKsN,KAAKH,G,IC/CvF,IAAII,EAAsB1D,EAAoBY,OAAET,EAAW,CAAC,KAAM,WAAa,OAAOH,EAAoB,IAAM,GAChH0D,EAAsB1D,EAAoBY,EAAE8C,E","sources":["webpack://projectmanagement/./src/App.vue","webpack://projectmanagement/./src/utils/storage.js","webpack://projectmanagement/./src/api/dingtalk.js","webpack://projectmanagement/src/App.vue","webpack://projectmanagement/./src/App.vue?c036","webpack://projectmanagement/./src/App.vue?0e40","webpack://projectmanagement/./src/registerServiceWorker.js","webpack://projectmanagement/./src/views/Submission.vue","webpack://projectmanagement/src/views/Submission.vue","webpack://projectmanagement/./src/views/Submission.vue?4feb","webpack://projectmanagement/./src/views/Submission.vue?89b5","webpack://projectmanagement/./src/views/OfflineData.vue","webpack://projectmanagement/src/views/OfflineData.vue","webpack://projectmanagement/./src/views/OfflineData.vue?b0c2","webpack://projectmanagement/./src/views/OfflineData.vue?308f","webpack://projectmanagement/./src/router/index.js","webpack://projectmanagement/./src/store/index.js","webpack://projectmanagement/./src/main.js","webpack://projectmanagement/webpack/bootstrap","webpack://projectmanagement/webpack/runtime/amd options","webpack://projectmanagement/webpack/runtime/chunk loaded","webpack://projectmanagement/webpack/runtime/compat get default export","webpack://projectmanagement/webpack/runtime/define property getters","webpack://projectmanagement/webpack/runtime/global","webpack://projectmanagement/webpack/runtime/hasOwnProperty shorthand","webpack://projectmanagement/webpack/runtime/make namespace object","webpack://projectmanagement/webpack/runtime/node module decorator","webpack://projectmanagement/webpack/runtime/jsonp chunk loading","webpack://projectmanagement/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('nav',{staticClass:\"navbar\"},[_c('div',{staticClass:\"nav-container\"},[_c('h1',{staticClass:\"nav-title\"},[_vm._v(\"项目管理系统\")]),_c('div',{staticClass:\"nav-menu\"},[_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/submission\"}},[_vm._v(\"提交页面\")]),_c('router-link',{staticClass:\"nav-link\",attrs:{\"to\":\"/offline\"}},[_vm._v(\"离线数据\")])],1)])]),_c('main',{staticClass:\"main-content\"},[_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import localforage from 'localforage';\n\nconst DB_NAME = 'project_management_db';\n\nconst store = localforage.createInstance({\n  name: DB_NAME\n});\n\nexport const CACHE_KEYS = {\n  PROCESS_LIST: 'process_list',\n  OFFLINE_RECORDS: 'offline_records'\n};\n\n// Process List Caching\nexport const cacheProcessList = async (list) => {\n  try {\n    await store.setItem(CACHE_KEYS.PROCESS_LIST, list);\n  } catch (err) {\n    console.error('Error caching process list:', err);\n  }\n};\n\nexport const getCachedProcessList = async () => {\n  try {\n    return await store.getItem(CACHE_KEYS.PROCESS_LIST);\n  } catch (err) {\n    console.error('Error getting cached process list:', err);\n    return null;\n  }\n};\n\n// Offline Records\nexport const saveOfflineRecord = async (record) => {\n  try {\n    const records = (await store.getItem(CACHE_KEYS.OFFLINE_RECORDS)) || [];\n    records.push({\n      ...record,\n      _offlineId: Date.now().toString() // Unique ID for offline record\n    });\n    await store.setItem(CACHE_KEYS.OFFLINE_RECORDS, records);\n  } catch (err) {\n    console.error('Error saving offline record:', err);\n  }\n};\n\nexport const getOfflineRecords = async () => {\n  try {\n    return (await store.getItem(CACHE_KEYS.OFFLINE_RECORDS)) || [];\n  } catch (err) {\n    console.error('Error getting offline records:', err);\n    return [];\n  }\n};\n\nexport const removeOfflineRecord = async (offlineId) => {\n  try {\n    const records = (await store.getItem(CACHE_KEYS.OFFLINE_RECORDS)) || [];\n    const newRecords = records.filter(r => r._offlineId !== offlineId);\n    await store.setItem(CACHE_KEYS.OFFLINE_RECORDS, newRecords);\n  } catch (err) {\n    console.error('Error removing offline record:', err);\n  }\n};\n\nexport const clearOfflineRecords = async () => {\n    try {\n        await store.removeItem(CACHE_KEYS.OFFLINE_RECORDS);\n    } catch (err) {\n        console.error('Error clearing offline records', err);\n    }\n}\n","import axios from 'axios';\n\n// Create axios instance with base URL for proxy\n// The proxy in vue.config.js maps /api/dingtalk to https://api.dingtalk.com\nconst request = axios.create({\n  baseURL: '/api/dingtalk', \n  timeout: 10000\n});\n\nconst APP_KEY = 'dingcbegiem6y2qygmn1';\nconst APP_SECRET = 'DvxWYGUvfLdB3Q2Xchyz7OQwOHxU-GmLE_jv64xe9ZyJvZnDHrnkx1fLmeBGfTCB';\n\nexport const getAccessToken = async () => {\n  try {\n    const response = await request.post('/v1.0/oauth2/accessToken', {\n      appKey: APP_KEY,\n      appSecret: APP_SECRET\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Failed to get access token:', error);\n    throw error;\n  }\n};\n\nexport const getProcessList = async (accessToken) => {\n  try {\n    const url = '/v1.0/notable/bases/YndMj49yWjPv69r0T22xeqmEJ3pmz5aA/sheets/5yOQbU0/records/list?operatorId=cmkDNstii4Iii2T4vgRiP61JgiEiE';\n    const response = await request.post(url, {\n      maxResults: 100,\n      nextToken: \"\"\n    }, {\n      headers: {\n        'x-acs-dingtalk-access-token': accessToken\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Failed to get process list:', error);\n    throw error;\n  }\n};\n\n// Helper to format the process list from the API response\nexport const formatProcessList = (apiData) => {\n    if (!apiData || !apiData.records) return [];\n    return apiData.records.map(record => ({\n        id: record.id,\n        name: record.fields['工序名称']\n    }));\n};\n\nexport const uploadRecord = async (data) => {\n  // Simulate API call\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      console.log('Uploading record:', data);\n      // Randomly fail for testing? No, assume success.\n      resolve({ success: true });\n    }, 1000);\n  });\n};\n","<template>\n  <div id=\"app\">\n    <nav class=\"navbar\">\n      <div class=\"nav-container\">\n        <h1 class=\"nav-title\">项目管理系统</h1>\n        <div class=\"nav-menu\">\n          <router-link to=\"/submission\" class=\"nav-link\">提交页面</router-link>\n          <router-link to=\"/offline\" class=\"nav-link\">离线数据</router-link>\n        </div>\n      </div>\n    </nav>\n    <main class=\"main-content\">\n      <router-view/>\n    </main>\n  </div>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport { getOfflineRecords, removeOfflineRecord } from '@/utils/storage';\nimport { uploadRecord } from '@/api/dingtalk';\n\nexport default {\n  name: 'App',\n  created() {\n    window.addEventListener('online', this.handleOnline);\n    window.addEventListener('offline', this.updateOnlineStatus);\n    this.updateOnlineStatus(); // Initial check\n  },\n  beforeDestroy() {\n    window.removeEventListener('online', this.handleOnline);\n    window.removeEventListener('offline', this.updateOnlineStatus);\n  },\n  methods: {\n    ...mapActions(['updateOnlineStatus']),\n    \n    handleOnline() {\n        this.updateOnlineStatus();\n        this.checkAndUploadOfflineRecords();\n    },\n    \n    updateOnlineStatus() {\n      this.$store.dispatch('updateOnlineStatus', navigator.onLine);\n    },\n    \n    async checkAndUploadOfflineRecords() {\n        const records = await getOfflineRecords();\n        if (records.length > 0) {\n            this.$notify.info({\n                title: '网络已连接',\n                message: `发现 ${records.length} 条离线数据，正在自动上传...`\n            });\n            \n            let successCount = 0;\n            for (const record of records) {\n                try {\n                    await uploadRecord(record);\n                    await removeOfflineRecord(record._offlineId);\n                    successCount++;\n                } catch (e) {\n                    console.error('Auto upload failed for record:', record, e);\n                }\n            }\n            \n            if (successCount > 0) {\n                this.$notify.success({\n                    title: '自动上传完成',\n                    message: `成功上传 ${successCount} 条数据`\n                });\n                // Emit event or refresh view if needed\n                // Since OfflineData.vue reads from storage on load/refresh, \n                // we might want to refresh it if it's active. \n                // But simplified approach is fine.\n            }\n        }\n    }\n  }\n}\n</script>\n\n<style>\n#app {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  min-height: 100vh;\n}\n\nbody {\n    margin: 0;\n}\n\n.navbar {\n  background-color: #409EFF;\n  padding: 0;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.nav-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 20px;\n  height: 60px;\n}\n\n.nav-title {\n  color: white;\n  margin: 0;\n  font-size: 1.5em;\n}\n\n.nav-menu {\n  display: flex;\n  gap: 20px;\n}\n\n.nav-link {\n  color: rgba(255, 255, 255, 0.8);\n  text-decoration: none;\n  padding: 8px 16px;\n  border-radius: 4px;\n  transition: all 0.3s ease;\n}\n\n.nav-link:hover {\n  color: white;\n  background-color: rgba(255, 255, 255, 0.1);\n}\n\n.nav-link.router-link-active {\n  color: white;\n  background-color: rgba(255, 255, 255, 0.2);\n  font-weight: bold;\n}\n\n.main-content {\n  padding: 20px;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n@media screen and (max-width: 768px) {\n  .nav-container {\n    flex-direction: column;\n    height: auto;\n    padding: 10px;\n    gap: 10px;\n  }\n  \n  .nav-menu {\n    width: 100%;\n    justify-content: center;\n  }\n  \n  .main-content {\n    padding: 10px;\n  }\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7bd17644\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=7bd17644&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"submission-container\"},[_c('h2',[_vm._v(\"项目提交\")]),_c('div',{staticClass:\"status-bar\"},[_vm._v(\" 当前状态: \"),_c('el-tag',{attrs:{\"type\":_vm.isOnline ? 'success' : 'danger'}},[_vm._v(_vm._s(_vm.isOnline ? '在线' : '离线'))])],1),_c('el-form',{ref:\"form\",staticClass:\"submission-form\",attrs:{\"model\":_vm.form,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"项目名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入项目名称\"},model:{value:(_vm.form.projectName),callback:function ($$v) {_vm.$set(_vm.form, \"projectName\", $$v)},expression:\"form.projectName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"所处阶段\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入所处阶段\"},model:{value:(_vm.form.stage),callback:function ($$v) {_vm.$set(_vm.form, \"stage\", $$v)},expression:\"form.stage\"}})],1),_c('el-form-item',{attrs:{\"label\":\"关联施工工序\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择工序\"},model:{value:(_vm.form.processId),callback:function ($$v) {_vm.$set(_vm.form, \"processId\", $$v)},expression:\"form.processId\"}},_vm._l((_vm.processList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.name,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"风险项\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"placeholder\":\"请输入风险项\"},model:{value:(_vm.form.risks),callback:function ($$v) {_vm.$set(_vm.form, \"risks\", $$v)},expression:\"form.risks\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态确认\"}},[_c('el-select',{staticStyle:{\"width\":\"100%\"},attrs:{\"placeholder\":\"请选择状态\"},model:{value:(_vm.form.status),callback:function ($$v) {_vm.$set(_vm.form, \"status\", $$v)},expression:\"form.status\"}},[_c('el-option',{attrs:{\"label\":\"未确认\",\"value\":\"未确认\"}}),_c('el-option',{attrs:{\"label\":\"已确认\",\"value\":\"已确认\"}}),_c('el-option',{attrs:{\"label\":\"不涉及\",\"value\":\"不涉及\"}})],1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_c('el-button',{on:{\"click\":_vm.resetForm}},[_vm._v(\"重置\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"submission-container\">\n    <h2>项目提交</h2>\n    <div class=\"status-bar\">\n      当前状态: <el-tag :type=\"isOnline ? 'success' : 'danger'\">{{ isOnline ? '在线' : '离线' }}</el-tag>\n    </div>\n    \n    <el-form ref=\"form\" :model=\"form\" label-width=\"100px\" class=\"submission-form\">\n      <el-form-item label=\"项目名称\">\n        <el-input v-model=\"form.projectName\" placeholder=\"请输入项目名称\"></el-input>\n      </el-form-item>\n      \n      <el-form-item label=\"所处阶段\">\n        <el-input v-model=\"form.stage\" placeholder=\"请输入所处阶段\"></el-input>\n      </el-form-item>\n      \n      <el-form-item label=\"关联施工工序\">\n        <el-select v-model=\"form.processId\" placeholder=\"请选择工序\" style=\"width: 100%\">\n          <el-option\n            v-for=\"item in processList\"\n            :key=\"item.id\"\n            :label=\"item.name\"\n            :value=\"item.id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      \n      <el-form-item label=\"风险项\">\n        <el-input type=\"textarea\" v-model=\"form.risks\" placeholder=\"请输入风险项\"></el-input>\n      </el-form-item>\n      \n      <el-form-item label=\"状态确认\">\n        <el-select v-model=\"form.status\" placeholder=\"请选择状态\" style=\"width: 100%\">\n          <el-option label=\"未确认\" value=\"未确认\"></el-option>\n          <el-option label=\"已确认\" value=\"已确认\"></el-option>\n          <el-option label=\"不涉及\" value=\"不涉及\"></el-option>\n        </el-select>\n      </el-form-item>\n      \n      <el-form-item>\n        <el-button type=\"primary\" @click=\"onSubmit\">提交</el-button>\n        <el-button @click=\"resetForm\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex';\nimport { saveOfflineRecord } from '@/utils/storage';\nimport { uploadRecord } from '@/api/dingtalk';\n\nexport default {\n  name: 'Submission',\n  data() {\n    return {\n      form: {\n        projectName: '',\n        stage: '',\n        processId: '',\n        risks: '',\n        status: '未确认'\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(['isOnline', 'processList'])\n  },\n  created() {\n    this.fetchProcessList();\n  },\n  methods: {\n    ...mapActions(['fetchProcessList']),\n    \n    async onSubmit() {\n      if (!this.form.projectName) {\n        this.$message.warning('请输入项目名称');\n        return;\n      }\n      \n      const dataToSubmit = {\n        ...this.form,\n        processName: this.getProcessName(this.form.processId),\n        timestamp: new Date().toISOString()\n      };\n      \n      if (this.isOnline) {\n        // Online: Simulate Upload\n        try {\n          await uploadRecord(dataToSubmit);\n          this.$message.success('提交成功 (在线模式)');\n          this.resetForm();\n        } catch (error) {\n          this.$message.error('提交失败，已转存为离线数据');\n          await this.saveOffline(dataToSubmit);\n        }\n      } else {\n        // Offline: Save locally\n        await this.saveOffline(dataToSubmit);\n      }\n    },\n    \n    async saveOffline(data) {\n      await saveOfflineRecord(data);\n      this.$message.warning('当前处于离线模式，数据已保存到本地');\n      this.resetForm();\n    },\n    \n    getProcessName(id) {\n      const process = this.processList.find(p => p.id === id);\n      return process ? process.name : '';\n    },\n    \n    resetForm() {\n      this.form = {\n        projectName: '',\n        stage: '',\n        processId: '',\n        risks: '',\n        status: '未确认'\n      };\n    }\n  }\n};\n</script>\n\n<style scoped>\n.submission-container {\n  padding: 20px;\n  max-width: 600px;\n  margin: 0 auto;\n}\n.status-bar {\n  margin-bottom: 20px;\n  text-align: right;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Submission.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Submission.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Submission.vue?vue&type=template&id=0afa56d4&scoped=true\"\nimport script from \"./Submission.vue?vue&type=script&lang=js\"\nexport * from \"./Submission.vue?vue&type=script&lang=js\"\nimport style0 from \"./Submission.vue?vue&type=style&index=0&id=0afa56d4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0afa56d4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"offline-container\"},[_c('h2',[_vm._v(\"离线未上传数据\")]),_c('div',{staticClass:\"actions\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":!_vm.isOnline || _vm.records.length === 0},on:{\"click\":_vm.uploadAll}},[_vm._v(\" \"+_vm._s(_vm.isOnline ? '一键上传所有' : '请连接网络后上传')+\" \")]),_c('el-button',{attrs:{\"type\":\"danger\",\"disabled\":_vm.records.length === 0},on:{\"click\":_vm.clearAll}},[_vm._v(\"清空本地数据\")]),_c('el-button',{attrs:{\"icon\":\"el-icon-refresh\",\"circle\":\"\"},on:{\"click\":_vm.loadRecords}})],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.records,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"projectName\",\"label\":\"项目名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"stage\",\"label\":\"所处阶段\"}}),_c('el-table-column',{attrs:{\"prop\":\"processName\",\"label\":\"工序名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"success\",\"disabled\":!_vm.isOnline},on:{\"click\":function($event){return _vm.uploadItem(scope.row)}}},[_vm._v(\"上传\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteItem(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"offline-container\">\n    <h2>离线未上传数据</h2>\n    <div class=\"actions\">\n      <el-button type=\"primary\" :disabled=\"!isOnline || records.length === 0\" @click=\"uploadAll\">\n        {{ isOnline ? '一键上传所有' : '请连接网络后上传' }}\n      </el-button>\n      <el-button type=\"danger\" @click=\"clearAll\" :disabled=\"records.length === 0\">清空本地数据</el-button>\n      <el-button icon=\"el-icon-refresh\" circle @click=\"loadRecords\"></el-button>\n    </div>\n    \n    <el-table :data=\"records\" style=\"width: 100%; margin-top: 20px;\" border>\n      <el-table-column prop=\"projectName\" label=\"项目名称\"></el-table-column>\n      <el-table-column prop=\"stage\" label=\"所处阶段\"></el-table-column>\n      <el-table-column prop=\"processName\" label=\"工序名称\"></el-table-column>\n      <el-table-column prop=\"status\" label=\"状态\"></el-table-column>\n      <el-table-column label=\"操作\" width=\"150\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"success\" :disabled=\"!isOnline\" @click=\"uploadItem(scope.row)\">上传</el-button>\n          <el-button size=\"mini\" type=\"danger\" @click=\"deleteItem(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport { getOfflineRecords, removeOfflineRecord, clearOfflineRecords } from '@/utils/storage';\nimport { uploadRecord } from '@/api/dingtalk';\n\nexport default {\n  name: 'OfflineData',\n  data() {\n    return {\n      records: []\n    };\n  },\n  computed: {\n    ...mapGetters(['isOnline'])\n  },\n  created() {\n    this.loadRecords();\n  },\n  methods: {\n    async loadRecords() {\n      this.records = await getOfflineRecords();\n    },\n    async uploadAll() {\n      if (!this.isOnline) return;\n      \n      const total = this.records.length;\n      let successCount = 0;\n      \n      // Process one by one or batch\n      for (const record of this.records) {\n        try {\n            await this.mockUpload(record);\n            await removeOfflineRecord(record._offlineId);\n            successCount++;\n        } catch (e) {\n            console.error(e);\n        }\n      }\n      \n      this.$message.success(`成功上传 ${successCount}/${total} 条数据`);\n      this.loadRecords();\n    },\n    async uploadItem(record) {\n      if (!this.isOnline) return;\n      try {\n        await uploadRecord(record);\n        await removeOfflineRecord(record._offlineId);\n        this.$message.success('上传成功');\n        this.loadRecords();\n      } catch (error) {\n        this.$message.error('上传失败');\n      }\n    },\n    async deleteItem(record) {\n      try {\n        await removeOfflineRecord(record._offlineId);\n        this.$message.success('删除成功');\n        this.loadRecords();\n      } catch (error) {\n        this.$message.error('删除失败');\n      }\n    },\n    async clearAll() {\n      try {\n        await this.$confirm('确认清空所有本地数据吗？此操作不可恢复。', '提示', {\n          confirmButtonText: '确认',\n          cancelButtonText: '取消',\n          type: 'warning'\n        });\n        await clearOfflineRecords();\n        this.$message.success('已清空');\n        this.loadRecords();\n      } catch (error) {\n        if (error !== 'cancel') {\n          this.$message.error('清空失败');\n        } else {\n          this.$message.info('已取消清空');\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.offline-container {\n  padding: 20px;\n  max-width: 800px;\n  margin: 0 auto;\n}\n.actions {\n  display: flex;\n  gap: 10px;\n  justify-content: flex-end;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OfflineData.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./OfflineData.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./OfflineData.vue?vue&type=template&id=2c077864&scoped=true\"\nimport script from \"./OfflineData.vue?vue&type=script&lang=js\"\nexport * from \"./OfflineData.vue?vue&type=script&lang=js\"\nimport style0 from \"./OfflineData.vue?vue&type=style&index=0&id=2c077864&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2c077864\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Submission from '../views/Submission.vue'\nimport OfflineData from '../views/OfflineData.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    redirect: '/submission'\n  },\n  {\n    path: '/submission',\n    name: 'Submission',\n    component: Submission\n  },\n  {\n    path: '/offline',\n    name: 'OfflineData',\n    component: OfflineData\n  }\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { getAccessToken, getProcessList, formatProcessList } from '@/api/dingtalk'\nimport { cacheProcessList, getCachedProcessList } from '@/utils/storage'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    isOnline: navigator.onLine,\n    processList: []\n  },\n  getters: {\n    isOnline: state => state.isOnline,\n    processList: state => state.processList\n  },\n  mutations: {\n    SET_ONLINE_STATUS(state, status) {\n      state.isOnline = status;\n    },\n    SET_PROCESS_LIST(state, list) {\n      state.processList = list;\n    }\n  },\n  actions: {\n    updateOnlineStatus({ commit }, status) {\n      commit('SET_ONLINE_STATUS', status);\n    },\n    async fetchProcessList({ commit, state }) {\n      if (state.isOnline) {\n        try {\n          const tokenData = await getAccessToken();\n          const accessToken = tokenData.accessToken;\n          \n          const data = await getProcessList(accessToken);\n          const formattedList = formatProcessList(data);\n\n          commit('SET_PROCESS_LIST', formattedList);\n          await cacheProcessList(formattedList);\n          return formattedList;\n        } catch (error) {\n          console.error('Error fetching process list online, trying cache:', error);\n          // If api fails, try cache\n          const cached = await getCachedProcessList();\n          if (cached) {\n            commit('SET_PROCESS_LIST', cached);\n            return cached;\n          }\n        }\n      } else {\n        // Offline: load from cache\n        const cached = await getCachedProcessList();\n        if (cached) {\n          commit('SET_PROCESS_LIST', cached);\n          return cached;\n        }\n      }\n      return [];\n    }\n  },\n  modules: {\n  }\n})\n","import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport './registerServiceWorker'\r\nimport router from './router'\r\nimport store from './store'\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\n\r\nVue.use(ElementUI);\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkprojectmanagement\"] = self[\"webpackChunkprojectmanagement\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(614); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticClass","_v","staticRenderFns","DB_NAME","store","localforage","name","CACHE_KEYS","PROCESS_LIST","OFFLINE_RECORDS","cacheProcessList","async","setItem","list","err","console","error","getCachedProcessList","getItem","saveOfflineRecord","records","push","record","_offlineId","Date","now","toString","getOfflineRecords","removeOfflineRecord","newRecords","filter","r","offlineId","clearOfflineRecords","removeItem","request","axios","create","baseURL","timeout","APP_KEY","APP_SECRET","getAccessToken","response","post","appKey","appSecret","data","getProcessList","url","maxResults","nextToken","headers","accessToken","formatProcessList","apiData","map","id","fields","uploadRecord","Promise","resolve","reject","setTimeout","log","success","created","window","addEventListener","handleOnline","updateOnlineStatus","beforeDestroy","removeEventListener","methods","mapActions","checkAndUploadOfflineRecords","$store","dispatch","navigator","onLine","length","$notify","info","title","message","successCount","e","component","register","ready","registered","cached","updatefound","updated","offline","isOnline","_s","ref","form","model","value","projectName","callback","$$v","$set","expression","stage","staticStyle","processId","_l","processList","item","key","risks","status","on","onSubmit","resetForm","computed","mapGetters","fetchProcessList","$message","warning","dataToSubmit","processName","getProcessName","timestamp","toISOString","saveOffline","process","find","p","uploadAll","clearAll","loadRecords","scopedSlots","_u","fn","scope","$event","uploadItem","row","deleteItem","total","mockUpload","$confirm","confirmButtonText","cancelButtonText","type","Vue","use","VueRouter","routes","path","redirect","Submission","OfflineData","router","mode","base","Vuex","state","getters","mutations","SET_ONLINE_STATUS","SET_PROCESS_LIST","actions","commit","tokenData","formattedList","modules","ElementUI","config","productionTip","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","call","m","amdO","deferred","O","result","chunkIds","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","splice","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}